{% extends 'video.html' %}
{% block title %} STEGANOSAUR | Video-Decode {% endblock %}
{% block content %}
<div class="jumbotron jumbotron-fluid mx-auto my-4 rounded-lg" style="display: table; padding: 3rem;">
    <div class="container">
        <h1 class="display-4 text-monospace">PENGAMBILAN PESAN</h1>
        <hr>
        <!--Form start-->
        <form action="/video/decode-result" method="POST" enctype="multipart/form-data" id="decodeForm"> 
            <div class="form-group">
                <label for="exampleFormControlFile1">ðŸ“º Choose your encrypted Video file:</label>
                <input type="file" name="video" accept="video/*" class="form-control-file" id="exampleFormControlFile1" required>
                <br>
                <select name="caesar_shift" id="caesar_shift" class="form-control" required>
                    <option style="display: none;">Pilih Kunci</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                    <option value="24">24</option>
                    <option value="25">25</option>
                    <option value="26">26</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <!--Form end-->
        <!-- Loading animation -->
        <div id="loading-overlay">
            <div id="loading-spinner"></div>
        </div>
    </div>
</div>
<style>
    #loading-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.8);
        z-index: 9999;
    }

    #loading-spinner {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border: 5px solid #f3f3f3;
        border-top: 5px solid #3498db;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% {
            transform: translate(-50%, -50%) rotate(0deg);
        }

        100% {
            transform: translate(-50%, -50%) rotate(360deg);
        }
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelector('#decodeForm').addEventListener('submit', function() {
            document.getElementById('loading-overlay').style.display = 'block';
        });
    });
</script>
{% endblock %}
